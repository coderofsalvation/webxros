{"mappings":"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","sources":["../../apps/com/app.js"],"sourcesContent":["// this is a highlevel way of loading buildless 'apps' (a collection of js components)\n\nAFRAME.required    = {}\nAFRAME.app         = new Proxy({\n\n  add(component, entity){ \n    this[component] = this[component] || []\n    this[component].push(entity)\n  },\n  foreach(cb){\n    for( let i in this ){\n      if( typeof this[i] != 'function' ) this[i].map( (app) => cb({app,component:i}) )\n    }\n  }\n},{\n  get(me,k)  { return me[k] },\n  set(me,k,v){ me[k] = v    }\n})\n\nAFRAME.registerComponent('app', {\n  schema:{\n    \"uri\":{ type:\"string\"}\n  },\n\n  events:{\n    \"app:ready\": function(){\n      let {id,component,type} = this.parseAppURI(this.data.uri)\n      AFRAME.app[component].map( (app) => {\n        if( !app.el.getAttribute(component) ) app.el.setAttribute(component,app.data)\n      }) \n    }\n  },\n\n  init: function() { \n    let {id,component,type} = this.parseAppURI(this.data.uri)\n    let sel = `script#${component}`\n    if( AFRAME.app[component] || AFRAME.components[component] || document.head.querySelector(sel) ) return AFRAME.app.add(component,this)\n    AFRAME.app.add(component,this)\n    this.require([ this.data.uri ], 'app:ready') \n  },\n\n  parseAppURI: AFRAME.AComponent.prototype.parseAppURI = function(uri){\n    return {\n      id:        String(uri).split(\"/\").pop(),                      // 'a/b/c/mycom.js' => 'mycom.js'\n      component: String(uri).split(\"/\").pop().split(\".js\").shift(), // 'mycom.js' => 'mycom'\n      type:      String(uri).split(\".\").pop()                       // 'mycom.js' => 'js'\n    }\n  },\n\n  // usage: require([\"./app/foo.js\"])\n  //        require({foo: \"https://foo.com/foo.js\"})\n  require: AFRAME.AComponent.prototype.require = function(packages,readyEvent){\n    let deps = []\n    if( !packages.map ) packages = Object.values(packages)\n    packages.map( (package) => {\n      let id = package.split(\"/\").pop()\n      // prevent duplicate requests\n      if( AFRAME.required[id] ) return\n      AFRAME.required[id] = true \n\n      if( !document.head.querySelector(`script#${id}`) ){\n        let {id,component,type} = this.parseAppURI(package)\n        let p = new Promise( (resolve,reject) => {\n          switch(type){\n            case \"js\":  let script = document.createElement(\"script\")\n                        script.id  = id\n                        script.src = package\n                        script.onload  = () => resolve()\n                        script.onerror = (e) => reject(e)\n                        document.head.appendChild(script)\n                        break;\n            case \"css\": let link = document.createElement(\"link\")\n                        link.id  = id\n                        link.href = package\n                        link.rel = 'stylesheet'\n                        document.head.appendChild(link)\n                        resolve()\n                        break;\n          }\n        })\n        deps.push(p)\n      }\n    })\n    Promise.all(deps).then( () => this.el.emit( readyEvent||'ready', packages) )\n  }\n\n})\n\n// monkeypatching initComponent will trigger events when components \n// are initialized (that way apps can react to attached components) \n// basically, in both situations: \n//   <a-entity foo=\"a:1\"/> \n//   <a-entity app=\"uri: myapp.js\"/>   <!-- myapp.js calls this.require(['foo.js']) -->\n//   \n// event 'foo' will be triggered as both entities (in)directly require component 'foo'\n\nAFRAME.AComponent.prototype.initComponent = function(initComponent){\n  return function(){\n    this.el.emit( this.attrName, this)\n    this.scene = AFRAME.scenes[0]        // mount scene for convenience\n    return initComponent.apply(this,arguments)\n  }\n}( AFRAME.AComponent.prototype.initComponent)\n\n\nAFRAME.AComponent.prototype.updateProperties = function(updateProperties){\n  return function(){\n    updateProperties.apply(this,arguments)\n    if( this.dom && this.data && this.data.uri ){\n\n      tasks = {\n\n        generateUniqueId: () => {\n          this.el.uid = String(Math.random()).substr(10)\n          return tasks\n        },\n\n        ensureOverlay: () => {\n          let overlay = document.querySelector('#overlay')\n          if( !overlay ){\n            overlay = document.createElement('div')\n            overlay.id = \"overlay\"\n            document.body.appendChild(overlay)\n            document.querySelector(\"a-scene\").setAttribute(\"webxr\",\"overlayElement:#overlay\")\n          }\n          tasks.overlay = overlay\n          return tasks\n        },\n\n        createReactiveDOMElement: () => {\n          const reactify = (el,aframe) => new Proxy(this.data,{\n            get(me,k,v)  { return me[k] \n            },\n            set(me,k,v){\n              me[k] = v\n              aframe.emit(k,{el,k,v})\n            }\n          })\n          this.el.dom = document.createElement('div')\n          this.el.dom.className = this.parseAppURI(this.data.uri).component\n          this.el.dom.innerHTML = this.dom.html(this)\n          this.data = reactify( this.dom.el, this.el )\n          this.dom.events.map( (e) => this.el.dom.addEventListener(e, (ev) => this.el.emit(e,ev) ) )\n          return tasks\n        },\n\n        addCSS: () => {\n          if( this.dom.css && !document.head.querySelector(`style#${this.attrName}`) ){\n            document.head.innerHTML += `<style id=\"${this.attrName}\">${this.dom.css}</style>`\n          }\n          return tasks\n        },\n\n        scaleDOMvsXR: () => {\n          if( this.dom.scale ) this.el.setAttribute('scale',`${this.dom.scale} ${this.dom.scale} ${this.dom.scale}`)\n          return tasks\n        },\n\n        addModalFunctions: () => {\n          this.el.close = () => {\n            this.el.dom.remove()\n            this.el.removeAttribute(\"html\")\n          }\n          return tasks\n        }\n      }\n\n      tasks\n      .generateUniqueId()\n      .ensureOverlay()\n      .addCSS()\n      .createReactiveDOMElement()\n      .scaleDOMvsXR()\n      .addModalFunctions()\n\n\n      tasks.overlay.appendChild(this.el.dom)\n      this.el.emit('DOMready',{el: this.el.dom})\n    }\n  }\n}( AFRAME.AComponent.prototype.updateProperties)\n\ndocument.head.innerHTML += `\n  <style type=\"text/css\">\n    /* CSS reset */\n    html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:0.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace, monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace, monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=\"button\"],[type=\"reset\"],[type=\"submit\"],button{-webkit-appearance:button}[type=\"button\"]::-moz-focus-inner,[type=\"reset\"]::-moz-focus-inner,[type=\"submit\"]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=\"button\"]:-moz-focusring,[type=\"reset\"]:-moz-focusring,[type=\"submit\"]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:0.35em 0.75em 0.625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=\"checkbox\"],[type=\"radio\"]{box-sizing:border-box;padding:0}[type=\"number\"]::-webkit-inner-spin-button,[type=\"number\"]::-webkit-outer-spin-button{height:auto}[type=\"search\"]{-webkit-appearance:textfield;outline-offset:-2px}[type=\"search\"]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}\n\n    a-scene{\n      position:fixed;\n      top:0;\n      left:0;\n      right:0;\n      bottom:0;\n    }\n    canvas{\n      z-index:10;\n    }\n\n    #overlay{\n      display: flex; /* tile modals */\n      z-index:10;\n    }\n    #overlay.hide{\n      z-index:-10;\n    }\n\n    #toggle_overlay{\n      position: fixed;\n      right: 20px;\n      bottom: 73px;\n      width: 58px;\n      text-align: center;\n      height: 40px;\n      padding: 0;\n      z-index: 100;\n      border: 3px solid #3aacff;\n      border-radius:11px;\n      transition:0.3s;\n      padding: 0px;\n      font-weight: bold;\n      cursor:pointer;\n      font-family:sans-serif;\n      font-size:15px;\n      color: #FFF;  \n      background: #3aacff;\n      transition:0.5s;\n    }\n    .XR #toggle_overlay{\n      background: transparent;\n      color: #3aacff;\n    }\n\n    .XR #overlay{\n      visibility: hidden;\n    }\n  </style>\n`\n\n// draw a button so we can toggle apps between 2D / XR\nlet toggle = (state) => {\n  state = state || document.body.className.match(/XR/)\n  document.body.classList[ state ? 'remove' : 'add'](['XR'])\n  AFRAME.scenes[0].emit( state ? 'apps:2D' : 'apps:XR') \n}\ndocument.addEventListener(\"DOMContentLoaded\", (event) => {\n  let btn       = document.createElement(\"button\")\n  btn.id        = \"toggle_overlay\"\n  btn.innerText = 'XRSH'\n  btn.addEventListener('click', (e) => toggle() )\n  document.body.appendChild(btn)\n\n  document.querySelector('a-scene').addEventListener('enter-vr', () => toggle(true) )\n  document.querySelector('a-scene').addEventListener('exit-vr', () => toggle(false) )\n  document.querySelector('a-scene').addEventListener('loaded', () => {\n    let VRbtn = document.querySelector('a-scene .a-enter-vr')\n    let ARbtn = document.querySelector('a-scene .a-enter-ar')\n    if( VRbtn ) document.body.appendChild(VRbtn) // move to body\n    if( ARbtn ) document.body.appendChild(ARbtn) // so they will always be visible\n  })\n\n})\n"],"names":[],"version":3,"file":"index.c2bf9ea7.js.map","sourceRoot":"/__parcel_source_root/"}